<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>JSON: Task 1</title>
    <style>
      p {
        color: purple;
        margin: 0.5em 0;
      }

      * {
        box-sizing: border-box;
      }
    </style>
    <!-- <link rel="stylesheet" href="../styles.css" /> -->
  </head>

  <body>

    <img src="#">


    <section class="preview">



    </section>

  </body>

  <script>




/* 
2de45e47-3aab-477a-b725-d98bc5126e9e */

   /*  fetch("https://api.fortnitetracker.com/v1/profile/gamepad/Joeyb43", {
        headers: {
            "TRN-Api-Key": "2de45e47-3aab-477a-b725-d98bc5126e9e"
        },
     mode: 'cors'})
    .then(function(response) {
        console.log(response) ;
    })
    .catch(function(reject) {
        console.log(reject)
    }) */
  /*   .then(function(response){ 
        //img.src = response.current.condition.icon;
        //console.log(response); 
    }) */

   // 'https://api.giphy.com/v1/gifs/translate?api_key=gXjJ27OFlLIzVUcLf1UMBBIEFjShgX1t&s=cats'
/* 
    const img = document.querySelector('img');

    async function getCats(){
    const response = await fetch('https://api.giphy.com/v1/gifs/translate?api_key=gXjJ27OFlLIzVUcLf1UMBBIEFjShgX1t&s=cats', {mode: 'cors'});
    const catData = await response.json();
        img.src = catData.data.images.original.url;
        console.log(catData);
    }
 getCats() */

/*  async function getFortiteInfo() {
  try {
    const apiKey = '2de45e47-3aab-477a-b725-d98bc5126e9e';
    const headers = new Headers();
    headers.append('TRN-Api-Key', apiKey);

    const response = await fetch('https://api.fortnitetracker.com/v1/profile/gamepad/stilreign', { 
      mode: 'no-cors',
      headers: headers
    });

    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }

    const fortInfo = await response.json();
    console.log(fortInfo);
  } catch (error) {
    console.error(error);
  }
} */

async function getFortiteInfo() {
  try {
    const apiKey = '2de45e47-3aab-477a-b725-d98bc5126e9e';
    const headers = new Headers();
    headers.append('TRN-Api-Key', apiKey);

    const response = await fetch('https://api.fortnitetracker.com/v1/store', { 
      mode: 'no-cors',                          
      headers: headers              //doesnt work, not enough documentation on the site
    });         

    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }

    const fortInfo = await response.json();
    console.log(fortInfo);
  } catch (error) {
    console.error(error);
  }
}



getFortiteInfo();

  </script>

</html>
